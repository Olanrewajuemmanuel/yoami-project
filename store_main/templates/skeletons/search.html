{% load static %}

<form action="{% url 'store_main:search' %}" method="get" class="search-form">
  <div class="row">
    <div class="search-bar">
      <div>{{ form.item_name }}</div>
      <span class="addon">
        <img src="{% static 'images/filter.png' %}" />
      </span>
    </div>
    <div class="filter" style="display: none">
      <div class="form-group">
        {{ form.category.label_tag }} {{ form.category }}
      </div>
      <div class="form-group">
        {{ form.price_min.label_tag}} {{ form.price_min }}
      </div>
      <div class="form-group">
        {{ form.price_max.label_tag }} {{ form.price_max }}
      </div>
    </div>
  </div>
  <div class="row mx-4">
    <button class="yoami-btn">Search</button>
  </div>
</form>
<script>
  const toggleFilterBtn = document.querySelector(".addon");
  const filter = document.querySelector(".filter");

  toggleFilterBtn.addEventListener("click", () => {
    const display = filter.style.display;
    if (display == "none") {
      filter.style.display = "block";
    }
    if (display == "block") {
      filter.style.display == "none";
    }
  });
</script>
